<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="AlphaGPT æŠ€æœ¯æ¶æ„ - ä¸­å›½è‚¡å¸‚é‡åŒ–äº¤æ˜“ç³»ç»Ÿçš„å®Œæ•´æŠ€æœ¯æ¶æ„è®¾è®¡ï¼ŒåŒ…æ‹¬æ•°æ®å±‚ã€ç­–ç•¥å±‚ã€æ‰§è¡Œå±‚å’Œç›‘æ§å±‚">
  <meta name="keywords" content="AlphaGPT, é‡åŒ–äº¤æ˜“, æŠ€æœ¯æ¶æ„, Python, FastAPI, AI, æœºå™¨å­¦ä¹ ">
  <meta name="author" content="Pheglovog">
  <title>AlphaGPT æŠ€æœ¯æ¶æ„ - Pheglovog</title>
  <link rel="canonical" href="https://pheglovog.github.io/pheglovog-site/articles/alphagpt-architecture.html">

  <style>
    /* å…¨å±€æ ·å¼ */
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: -apple-system, "SF Pro Text", BlinkMacSystemFont, "Microsoft YaHei", "å¾®è½¯é›…é»‘", "Segoe UI", Roboto, "PingFang SC", "Hiragino Sans GB", sans-serif;
      background: #fafafa;
      color: #1a1a1a;
      line-height: 1.7;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }
    a { text-decoration: none; color: inherit; }
    .container { max-width: 800px; margin: 0 auto; padding: 0 24px; }

    /* Header */
    header {
      background: #fff;
      border-bottom: 1px solid #e5e5e5;
      padding: 20px 0;
      position: sticky;
      top: 0;
      z-index: 100;
    }
    .header-content {
      max-width: 800px;
      margin: 0 auto;
      padding: 0 24px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .logo { font-size: 18px; font-weight: 600; color: #1a1a1a; }
    .nav { display: flex; gap: 32px; }
    .nav a {
      font-size: 15px;
      color: #666;
      transition: color 0.2s;
      font-weight: 500;
    }
    .nav a:hover { color: #1a1a1a; }
    .nav a.active { color: #1a1a1a; font-weight: 600; }

    /* Article */
    article {
      max-width: 800px;
      margin: 0 auto;
      padding: 60px 24px;
      background: #fff;
    }
    .article-header {
      margin-bottom: 40px;
    }
    .article-meta {
      font-size: 14px;
      color: #999;
      margin-bottom: 16px;
    }
    .article-title {
      font-size: 42px;
      font-weight: 700;
      line-height: 1.2;
      margin-bottom: 24px;
      letter-spacing: -1px;
    }
    .article-tags {
      display: flex;
      gap: 8px;
      flex-wrap: wrap;
    }
    .article-tag {
      background: #fafafa;
      padding: 8px 16px;
      border-radius: 20px;
      font-size: 13px;
      color: #666;
      font-weight: 500;
    }

    /* Content */
    .article-content h2 {
      font-size: 28px;
      font-weight: 600;
      margin: 48px 0 20px;
      letter-spacing: -0.5px;
    }
    .article-content h3 {
      font-size: 22px;
      font-weight: 600;
      margin: 36px 0 16px;
    }
    .article-content p {
      font-size: 17px;
      line-height: 1.8;
      margin-bottom: 24px;
      color: #333;
    }
    .article-content ul, .article-content ol {
      margin-bottom: 24px;
      padding-left: 24px;
    }
    .article-content li {
      font-size: 16px;
      line-height: 1.8;
      margin-bottom: 12px;
      color: #333;
    }
    .article-content code {
      background: #f5f5f5;
      padding: 2px 6px;
      border-radius: 4px;
      font-family: 'SF Mono', Monaco, 'Cascadia Code', 'Roboto Mono', Consolas, monospace;
      font-size: 14px;
    }
    .article-content pre {
      background: #1a1a1a;
      color: #f5f5f5;
      padding: 20px;
      border-radius: 12px;
      overflow-x: auto;
      margin-bottom: 24px;
    }
    .article-content pre code {
      background: none;
      padding: 0;
      color: inherit;
      font-size: 14px;
    }
    .article-content blockquote {
      border-left: 4px solid #1a1a1a;
      padding-left: 20px;
      margin: 24px 0;
      font-style: italic;
      color: #666;
    }
    .article-content .highlight {
      background: linear-gradient(180deg, transparent 60%, rgba(255, 230, 0, 0.3) 60%);
    }

    /* Architecture Diagram */
    .architecture-diagram {
      background: #fafafa;
      border: 1px solid #e5e5e5;
      border-radius: 12px;
      padding: 32px;
      margin: 32px 0;
    }
    .layer {
      background: #fff;
      border: 2px solid #e5e5e5;
      border-radius: 8px;
      padding: 20px;
      margin-bottom: 16px;
    }
    .layer-title {
      font-weight: 600;
      color: #1a1a1a;
      margin-bottom: 12px;
    }
    .layer-components {
      display: flex;
      gap: 12px;
      flex-wrap: wrap;
    }
    .component {
      background: #f5f5f5;
      padding: 8px 16px;
      border-radius: 6px;
      font-size: 14px;
      color: #666;
    }

    /* Feature Box */
    .feature-box {
      background: #fafafa;
      padding: 24px;
      border-radius: 12px;
      margin: 24px 0;
    }
    .feature-box h4 {
      font-size: 18px;
      font-weight: 600;
      margin-bottom: 12px;
    }
    .feature-box p {
      font-size: 15px;
      margin-bottom: 0;
    }

    /* Back Button */
    .back-link {
      display: inline-block;
      margin-bottom: 32px;
      font-size: 15px;
      color: #666;
      font-weight: 500;
    }
    .back-link:hover { color: #1a1a1a; }

    /* Footer */
    footer {
      background: #fff;
      padding: 40px 24px;
      text-align: center;
      margin-top: 80px;
      border-top: 1px solid #e5e5e5;
    }
    footer p {
      color: #666;
      font-size: 14px;
      margin-bottom: 8px;
    }

    /* Responsive */
    @media (max-width: 768px) {
      .article-title { font-size: 32px; }
      .article-content h2 { font-size: 24px; }
      .article-content h3 { font-size: 20px; }
      .article-content p { font-size: 16px; }
      .architecture-diagram { padding: 20px; }
      .layer { padding: 16px; }
      .header-content { flex-direction: column; gap: 16px; }
      .nav { gap: 20px; }
      article { padding: 40px 20px; }
    }
  </style>
</head>
<body>
  <header>
    <div class="header-content">
      <a href="index.html" class="logo">Pheglovog</a>
      <nav class="nav">
        <a href="index.html">é¦–é¡µ</a>
        <a href="projects.html">é¡¹ç›®</a>
        <a href="blog.html" class="active">åšå®¢</a>
        <a href="about.html">å…³äº</a>
      </nav>
    </div>
  </header>

  <main>
    <article>
      <a href="blog.html" class="back-link">â† è¿”å›åšå®¢</a>

      <header class="article-header">
        <div class="article-meta">2026-02-05 Â· é˜…è¯»æ—¶é—´çº¦ 25 åˆ†é’Ÿ</div>
        <h1 class="article-title">AlphaGPT æŠ€æœ¯æ¶æ„</h1>
        <div class="article-tags">
          <span class="article-tag">AlphaGPT</span>
          <span class="article-tag">é‡åŒ–äº¤æ˜“</span>
          <span class="article-tag">æŠ€æœ¯æ¶æ„</span>
          <span class="article-tag">Python</span>
        </div>
      </header>

      <div class="article-content">
        <p>AlphaGPT æ˜¯æˆ‘å¼€å‘çš„ä¸­å›½è‚¡å¸‚é‡åŒ–äº¤æ˜“ç³»ç»Ÿï¼Œé‡‡ç”¨ç°ä»£åŒ–çš„å¾®æœåŠ¡æ¶æ„ï¼Œç»“åˆä¼ ç»Ÿé‡åŒ–æ–¹æ³•å’Œ AI æŠ€æœ¯ã€‚æœ¬æ–‡è¯¦ç»†ä»‹ç»ç³»ç»Ÿçš„æŠ€æœ¯æ¶æ„è®¾è®¡ã€‚</p>

        <h2>ä¸€ã€æ¶æ„æ¦‚è§ˆ</h2>

        <div class="architecture-diagram">
          <div class="layer">
            <div class="layer-title">ğŸ“Š æ•°æ®å±‚ (Data Layer)</div>
            <div class="layer-components">
              <span class="component">Tushare</span>
              <span class="component">Redis Cache</span>
              <span class="component">PostgreSQL</span>
              <span class="component">æ—¶åºæ•°æ®åº“</span>
            </div>
          </div>

          <div class="layer">
            <div class="layer-title">ğŸ§  ç­–ç•¥å±‚ (Strategy Layer)</div>
            <div class="layer-components">
              <span class="component">å› å­è®¡ç®—</span>
              <span class="component">ä¿¡å·ç”Ÿæˆ</span>
              <span class="component">AI æ¨¡å‹</span>
              <span class="component">å›æµ‹å¼•æ“</span>
            </div>
          </div>

          <div class="layer">
            <div class="layer-title">âš¡ æ‰§è¡Œå±‚ (Execution Layer)</div>
            <div class="layer-components">
              <span class="component">è®¢å•ç®¡ç†</span>
              <span class="component">é£æ§å¼•æ“</span>
              <span class="component">äº¤æ˜“æ¥å£</span>
              <span class="component">æŒä»“ç®¡ç†</span>
            </div>
          </div>

          <div class="layer">
            <div class="layer-title">ğŸ“ˆ ç›‘æ§å±‚ (Monitor Layer)</div>
            <div class="layer-components">
              <span class="component">å®æ—¶ç›‘æ§</span>
              <span class="component">å‘Šè­¦ç³»ç»Ÿ</span>
              <span class="component">æ€§èƒ½åˆ†æ</span>
              <span class="component">æ—¥å¿—è®°å½•</span>
            </div>
          </div>
        </div>

        <h2>äºŒã€æŠ€æœ¯æ ˆ</h2>

        <h3>åç«¯æ¡†æ¶</h3>
        <ul>
          <li><strong>FastAPI</strong> - ç°ä»£åŒ–çš„å¼‚æ­¥ Python Web æ¡†æ¶</li>
          <li><strong>Pydantic</strong> - æ•°æ®éªŒè¯å’Œåºåˆ—åŒ–</li>
          <li><strong>SQLAlchemy</strong> - ORM æ•°æ®åº“æ“ä½œ</li>
          <li><strong>Celery</strong> - å¼‚æ­¥ä»»åŠ¡é˜Ÿåˆ—</li>
        </ul>

        <h3>æ•°æ®å­˜å‚¨</h3>
        <ul>
          <li><strong>PostgreSQL</strong> - å…³ç³»å‹æ•°æ®åº“ï¼Œå­˜å‚¨äº¤æ˜“è®°å½•ã€æŒä»“ä¿¡æ¯</li>
          <li><strong>Redis</strong> - ç¼“å­˜çƒ­ç‚¹æ•°æ®ï¼Œæ”¯æŒé«˜é¢‘ç­–ç•¥</li>
          <li><strong>InfluxDB</strong> - æ—¶åºæ•°æ®åº“ï¼Œå­˜å‚¨ K çº¿æ•°æ®</li>
          <li><strong>MinIO</strong> - å¯¹è±¡å­˜å‚¨ï¼Œå­˜å‚¨æ¨¡å‹æ–‡ä»¶å’ŒæŠ¥å‘Š</li>
        </ul>

        <h3>æœºå™¨å­¦ä¹ </h3>
        <ul>
          <li><strong>PyTorch</strong> - æ·±åº¦å­¦ä¹ æ¡†æ¶</li>
          <li><strong>scikit-learn</strong> - ä¼ ç»Ÿæœºå™¨å­¦ä¹ ç®—æ³•</li>
          <li><strong>XGBoost</strong> - æ¢¯åº¦æå‡ç®—æ³•</li>
          <li><strong>Ta-Lib</strong> - æŠ€æœ¯æŒ‡æ ‡è®¡ç®—</li>
        </ul>

        <h3>ç›‘æ§å’Œæ—¥å¿—</h3>
        <ul>
          <li><strong>Prometheus</strong> - æŒ‡æ ‡æ”¶é›†</li>
          <li><strong>Grafana</strong> - å¯è§†åŒ–ç›‘æ§é¢æ¿</li>
          <li><strong>ELK Stack</strong> - æ—¥å¿—æ”¶é›†å’Œåˆ†æ</li>
          <li><strong>Sentry</strong> - é”™è¯¯è¿½è¸ª</li>
        </ul>

        <h2>ä¸‰ã€æ ¸å¿ƒæ¨¡å—è®¾è®¡</h2>

        <h3>1. æ•°æ®é‡‡é›†æ¨¡å—</h3>
        <div class="feature-box">
          <h4>åŠŸèƒ½</h4>
          <p>ä» Tushare ç­‰æ•°æ®æºå®æ—¶é‡‡é›†è¡Œæƒ…æ•°æ®ï¼ŒåŒ…æ‹¬æ—¥çº¿ã€åˆ†é’Ÿçº¿ã€Tick æ•°æ®ï¼Œä»¥åŠè´¢åŠ¡æ•°æ®ã€æ–°é—»èµ„è®¯ç­‰ã€‚</p>
        </div>

        <pre><code># æ•°æ®é‡‡é›†æ ¸å¿ƒä»£ç 
class DataCollector:
    def __init__(self, api_token: str):
        self.api = TushareAPI(api_token)
        self.redis = RedisClient()
        self.db = DatabaseClient()

    async def collect_daily_data(self, ts_code: str):
        """é‡‡é›†æ—¥çº¿æ•°æ®"""
        df = await self.api.daily(ts_code=ts_code)

        # å†™å…¥æ—¶åºæ•°æ®åº“
        await self.db.insert_timeseries('daily_quotes', df)

        # æ›´æ–°ç¼“å­˜
        for _, row in df.iterrows():
            await self.redis.set(
                f'daily:{ts_code}:{row["trade_date"]}',
                row.to_json(),
                ex=86400  # ç¼“å­˜ä¸€å¤©
            )

    async def collect_realtime(self, ts_code: str):
        """é‡‡é›†å®æ—¶è¡Œæƒ…"""
        while True:
            quote = await self.api.realtime(ts_code)
            await self.redis.publish(f'realtime:{ts_code}', quote)
            await asyncio.sleep(1)</code></pre>

        <h3>2. å› å­è®¡ç®—æ¨¡å—</h3>
        <div class="feature-box">
          <h4>åŠŸèƒ½</h4>
          <p>è®¡ç®—å„ç§é‡åŒ–å› å­ï¼ŒåŒ…æ‹¬æŠ€æœ¯å› å­ï¼ˆå‡çº¿ã€MACDã€RSIï¼‰ã€åŸºæœ¬é¢å› å­ï¼ˆPEã€PBã€ROEï¼‰ã€æƒ…ç»ªå› å­ï¼ˆèµ„é‡‘æµå‘ã€æ¢æ‰‹ç‡ï¼‰ç­‰ã€‚</p>
        </div>

        <pre><code># å› å­è®¡ç®—ç¤ºä¾‹
class FactorCalculator:
    def __init__(self):
        self.talib = TaLib()

    async def calculate_momentum_factor(self, df: pd.DataFrame):
        """åŠ¨é‡å› å­ï¼šè¿‡å» N æ—¥æ¶¨å¹…"""
        close = df['close'].values
        momentum = (close[-1] / close[-20] - 1) * 100  # 20æ—¥åŠ¨é‡
        return momentum

    async def calculate_volatility_factor(self, df: pd.DataFrame):
        """æ³¢åŠ¨ç‡å› å­ï¼šè¿‡å» N æ—¥æ ‡å‡†å·®"""
        returns = df['close'].pct_change()
        volatility = returns[-20:].std() * np.sqrt(252)  # å¹´åŒ–æ³¢åŠ¨ç‡
        return volatility

    async def calculate_volume_factor(self, df: pd.DataFrame):
        """é‡ä»·å› å­ï¼šæˆäº¤é‡ä¸ä»·æ ¼å…³ç³»"""
        volume_ma = df['volume'].rolling(20).mean()
        volume_ratio = df['volume'].iloc[-1] / volume_ma.iloc[-1]
        return volume_ratio

    async def calculate_all_factors(self, ts_code: str):
        """è®¡ç®—æ‰€æœ‰å› å­"""
        df = await self.get_daily_data(ts_code)

        factors = {
            'momentum_20': await self.calculate_momentum_factor(df),
            'volatility': await self.calculate_volatility_factor(df),
            'volume_ratio': await self.calculate_volume_factor(df),
            # ... æ›´å¤šå› å­
        }

        return factors</code></pre>

        <h3>3. ä¿¡å·ç”Ÿæˆæ¨¡å—</h3>
        <div class="feature-box">
          <h4>åŠŸèƒ½</h4>
          <p>åŸºäºå› å­å’Œ AI æ¨¡å‹ç”Ÿæˆäº¤æ˜“ä¿¡å·ï¼ŒåŒ…æ‹¬å¤šç©ºä¿¡å·ã€å¼€ä»“ä¿¡å·ã€å¹³ä»“ä¿¡å·ç­‰ã€‚</p>
        </div>

        <pre><code># ä¿¡å·ç”Ÿæˆ
class SignalGenerator:
    def __init__(self, model: Model, threshold: float = 0.7):
        self.model = model
        self.threshold = threshold

    async def generate_signal(self, factors: dict) -> dict:
        """ç”Ÿæˆäº¤æ˜“ä¿¡å·"""
        # æ¨¡å‹é¢„æµ‹
        prediction = await self.model.predict(factors)

        # ä¿¡å·åˆ¤æ–­
        if prediction['buy'] > self.threshold:
            signal = 'buy'
            strength = prediction['buy']
        elif prediction['sell'] > self.threshold:
            signal = 'sell'
            strength = prediction['sell']
        else:
            signal = 'hold'
            strength = 0.5

        return {
            'signal': signal,
            'strength': strength,
            'confidence': prediction['confidence'],
            'timestamp': datetime.now()
        }</code></pre>

        <h3>4. é£æ§å¼•æ“</h3>
        <div class="feature-box">
          <h4>åŠŸèƒ½</h4>
          <p>å®æ—¶ç›‘æ§é£é™©æŒ‡æ ‡ï¼ŒåŒ…æ‹¬ä»“ä½ã€å›æ’¤ã€å•ç¬”äºæŸç­‰ï¼Œè‡ªåŠ¨è§¦å‘é£é™©æ§åˆ¶æªæ–½ã€‚</p>
        </div>

        <pre><code># é£é™©æ§åˆ¶
class RiskEngine:
    def __init__(self, config: RiskConfig):
        self.max_position = config.max_position  # æœ€å¤§ä»“ä½ 80%
        self.max_single_pos = config.max_single_pos  # å•è‚¡æœ€å¤§ä»“ä½ 20%
        self.stop_loss = config.stop_loss  # æ­¢æŸçº¿ -5%
        self.max_drawdown = config.max_drawdown  # æœ€å¤§å›æ’¤ -15%

    async def check_position(self, order: Order) -> bool:
        """æ£€æŸ¥ä»“ä½æ˜¯å¦è¶…é™"""
        current_position = await self.get_total_position()
        new_position = current_position + order.amount * order.price

        return new_position <= self.max_position

    async def check_single_position(self, order: Order) -> bool:
        """æ£€æŸ¥å•è‚¡ä»“ä½"""
        single_pos = await self.get_single_position(order.ts_code)
        new_single_pos = single_pos + order.amount * order.price

        return new_single_pos <= self.max_single_pos

    async def check_stop_loss(self) -> List[str]:
        """æ£€æŸ¥æ­¢æŸ"""
        positions = await self.get_all_positions()
        stop_list = []

        for pos in positions:
            pnl = (pos.current_price - pos.avg_price) / pos.avg_price
            if pnl <= self.stop_loss:
                stop_list.append(pos.ts_code)

        return stop_list</code></pre>

        <h2>å››ã€æ•°æ®åº“è®¾è®¡</h2>

        <h3>æ ¸å¿ƒè¡¨ç»“æ„</h3>
        <pre><code>-- äº¤æ˜“è®°å½•è¡¨
CREATE TABLE trades (
    id SERIAL PRIMARY KEY,
    ts_code VARCHAR(10) NOT NULL,
    order_type VARCHAR(10) NOT NULL,  -- buy/sell
    price DECIMAL(10, 2) NOT NULL,
    amount INTEGER NOT NULL,
    total_amount DECIMAL(15, 2) NOT NULL,
    commission DECIMAL(10, 2),
    status VARCHAR(20),
    create_time TIMESTAMP DEFAULT NOW()
);

-- æŒä»“è¡¨
CREATE TABLE positions (
    id SERIAL PRIMARY KEY,
    ts_code VARCHAR(10) UNIQUE NOT NULL,
    amount INTEGER NOT NULL,
    avg_price DECIMAL(10, 2) NOT NULL,
    current_price DECIMAL(10, 2),
    market_value DECIMAL(15, 2),
    profit_loss DECIMAL(15, 2),
    update_time TIMESTAMP DEFAULT NOW()
);

-- ç­–ç•¥è¡¨
CREATE TABLE strategies (
    id SERIAL PRIMARY KEY,
    name VARCHAR(50) UNIQUE NOT NULL,
    description TEXT,
    params JSONB,
    is_active BOOLEAN DEFAULT TRUE,
    create_time TIMESTAMP DEFAULT NOW()
);</code></pre>

        <h2>äº”ã€å›æµ‹å¼•æ“</h2>

        <h3>å›æµ‹æµç¨‹</h3>
        <ol>
          <li>åŠ è½½å†å²æ•°æ®</li>
          <li>è®¡ç®—å› å­</li>
          <li>ç”Ÿæˆä¿¡å·</li>
          <li>æ¨¡æ‹Ÿäº¤æ˜“</li>
          <li>è®¡ç®—ç»©æ•ˆæŒ‡æ ‡</li>
          <li>ç”ŸæˆæŠ¥å‘Š</li>
        </ol>

        <pre><code># å›æµ‹å¼•æ“
class BacktestEngine:
    def __init__(self, strategy: Strategy, start_date: str, end_date: str):
        self.strategy = strategy
        self.start_date = start_date
        self.end_date = end_date
        self.trades = []
        self.positions = {}

    async def run(self):
        """è¿è¡Œå›æµ‹"""
        # åŠ è½½æ•°æ®
        data = await self.load_data()

        # æŒ‰æ—¥æœŸè¿­ä»£
        for date, daily_data in data.items():
            # è®¡ç®—å› å­
            factors = await self.calculate_factors(daily_data)

            # ç”Ÿæˆä¿¡å·
            signal = await self.strategy.generate_signal(factors)

            # æ‰§è¡Œäº¤æ˜“
            await self.execute_trade(date, signal, daily_data)

            # æ›´æ–°æŒä»“
            await self.update_positions(date, daily_data)

        # è®¡ç®—ç»©æ•ˆ
        metrics = await self.calculate_metrics()

        return metrics

    async def calculate_metrics(self) -> dict:
        """è®¡ç®—ç»©æ•ˆæŒ‡æ ‡"""
        returns = self.calculate_returns()

        metrics = {
            'total_return': returns.sum(),
            'annual_return': returns.mean() * 252,
            'sharpe_ratio': self.calculate_sharpe(returns),
            'max_drawdown': self.calculate_max_drawdown(returns),
            'win_rate': self.calculate_win_rate()
        }

        return metrics</code></pre>

        <h2>å…­ã€AI æ¨¡å‹é›†æˆ</h2>

        <h3>æ¨¡å‹ç±»å‹</h3>
        <ul>
          <li><strong>æ—¶é—´åºåˆ—é¢„æµ‹</strong> - LSTMã€Transformer</li>
          <li><strong>åˆ†ç±»æ¨¡å‹</strong> - XGBoostã€Random Forest</li>
          <li><strong>å¼ºåŒ–å­¦ä¹ </strong> - DQNã€PPO</li>
          <li><strong>å›¾ç¥ç»ç½‘ç»œ</strong> - è‚¡ç¥¨å…³ç³»å»ºæ¨¡</li>
        </ul>

        <pre><code># AI æ¨¡å‹é¢„æµ‹
class TradingModel:
    def __init__(self, model_path: str):
        self.model = self.load_model(model_path)

    async def predict(self, features: dict) -> dict:
        """æ¨¡å‹é¢„æµ‹"""
        # ç‰¹å¾é¢„å¤„ç†
        x = self.preprocess(features)

        # æ¨¡å‹æ¨ç†
        prediction = self.model.predict(x)

        # åå¤„ç†
        result = {
            'buy': float(prediction[0]),
            'sell': float(prediction[1]),
            'hold': float(prediction[2]),
            'confidence': float(np.max(prediction))
        }

        return result</code></pre>

        <h2>ä¸ƒã€éƒ¨ç½²æ¶æ„</h2>

        <h3>Docker Compose éƒ¨ç½²</h3>
        <pre><code>version: '3.8'

services:
  api:
    build: ./api
    ports:
      - "8000:8000"
    environment:
      - DATABASE_URL=postgresql://user:pass@db:5432/alphagpt
      - REDIS_URL=redis://redis:6379
    depends_on:
      - db
      - redis

  worker:
    build: ./worker
    environment:
      - DATABASE_URL=postgresql://user:pass@db:5432/alphagpt
      - REDIS_URL=redis://redis:6379
    depends_on:
      - db
      - redis

  db:
    image: postgres:15
    environment:
      - POSTGRES_USER=user
      - POSTGRES_PASSWORD=pass
      - POSTGRES_DB=alphagpt
    volumes:
      - postgres_data:/var/lib/postgresql/data

  redis:
    image: redis:7
    volumes:
      - redis_data:/data

  grafana:
    image: grafana/grafana
    ports:
      - "3000:3000"
    volumes:
      - grafana_data:/var/lib/grafana

volumes:
  postgres_data:
  redis_data:
  grafana_data:</code></pre>

        <h2>å…«ã€ç›‘æ§å’Œå‘Šè­¦</h2>

        <h3>å…³é”®æŒ‡æ ‡</h3>
        <ul>
          <li><strong>ç³»ç»Ÿå¥åº·</strong> - CPUã€å†…å­˜ã€ç£ç›˜ä½¿ç”¨ç‡</li>
          <li><strong>äº¤æ˜“æŒ‡æ ‡</strong> - æ¯æ—¥ç›ˆäºã€æŒä»“ã€å›æ’¤</li>
          <li><strong>ç­–ç•¥æŒ‡æ ‡</strong> - èƒœç‡ã€å¤æ™®æ¯”ç‡ã€æœ€å¤§å›æ’¤</li>
          <li><strong>æ•°æ®æŒ‡æ ‡</strong> - æ•°æ®å»¶è¿Ÿã€æ•°æ®å®Œæ•´æ€§</li>
        </ul>

        <h3>å‘Šè­¦è§„åˆ™</h3>
        <ul>
          <li>ç³»ç»Ÿæ•…éšœï¼ˆæœåŠ¡å¼‚å¸¸ã€æ•°æ®åº“ä¸å¯ç”¨ï¼‰</li>
          <li>äº¤æ˜“å¼‚å¸¸ï¼ˆå¼‚å¸¸å¤§é¢äº¤æ˜“ã€é¢‘ç¹æ’¤å•ï¼‰</li>
          <li>é£é™©å‘Šè­¦ï¼ˆå›æ’¤è¶…é™ã€ä»“ä½è¿‡é«˜ï¼‰</li>
          <li>æ•°æ®å¼‚å¸¸ï¼ˆæ•°æ®ç¼ºå¤±ã€ä»·æ ¼å¼‚å¸¸ï¼‰</li>
        </ul>

        <h2>ä¹ã€å®‰å…¨æªæ–½</h2>

        <ul>
          <li><strong>API å¯†é’¥åŠ å¯†</strong> - ä½¿ç”¨ç¯å¢ƒå˜é‡å’Œå¯†é’¥ç®¡ç†æœåŠ¡</li>
          <li><strong>è®¿é—®æ§åˆ¶</strong> - åŸºäº JWT çš„èº«ä»½è®¤è¯å’Œæˆæƒ</li>
          <li><strong>æ•°æ®åŠ å¯†</strong> - ä¼ è¾“å±‚ TLS åŠ å¯†ï¼Œæ•°æ®åº“åŠ å¯†å­˜å‚¨</li>
          <li><strong>å®¡è®¡æ—¥å¿—</strong> - è®°å½•æ‰€æœ‰å…³é”®æ“ä½œ</li>
        </ul>

        <h2>åã€æ€§èƒ½ä¼˜åŒ–</h2>

        <ul>
          <li><strong>å¼‚æ­¥ I/O</strong> - FastAPI + asyncio å®ç°é«˜å¹¶å‘</li>
          <li><strong>ç¼“å­˜ç­–ç•¥</strong> - Redis ç¼“å­˜çƒ­ç‚¹æ•°æ®</li>
          <li><strong>æ•°æ®åº“ä¼˜åŒ–</strong> - ç´¢å¼•ä¼˜åŒ–ã€æŸ¥è¯¢ä¼˜åŒ–ã€è¿æ¥æ± </li>
          <li><strong>CDN åŠ é€Ÿ</strong> - é™æ€èµ„æº CDN åˆ†å‘</li>
        </ul>

        <hr style="margin: 60px 0; border: none; border-top: 1px solid #e5e5e5;">

        <p><strong>é¡¹ç›®åœ°å€ï¼š</strong> <a href="https://github.com/Pheglovog/AlphaGPT" target="_blank">github.com/Pheglovog/AlphaGPT</a></p>
        <p><strong>ç›¸å…³æ–‡ç« ï¼š</strong></p>
        <ul>
          <li><a href="quant-trading-guide.html">é‡åŒ–äº¤æ˜“å…¥é—¨æŒ‡å—</a></li>
          <li><a href="fastapi-best-practices.html">FastAPI æœ€ä½³å®è·µå’Œå¼‚æ­¥ç¼–ç¨‹æŒ‡å—</a></li>
        </ul>
      </div>
    </article>
  </main>

  <footer>
    <p>Â© 2026 Pheglovog</p>
  </footer>
</body>
</html>
