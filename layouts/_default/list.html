{{ define "main" }}
<!DOCTYPE html>
<html lang="{{ .Site.Language.Lang }}">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{{ .Title }} - {{ .Site.Title }}</title>
  <meta name="description" content="Pheglovog çš„åšå®¢ - åˆ†äº«æŠ€æœ¯å­¦ä¹ å’Œé¡¹ç›®å®è·µ">
  <meta name="author" content="{{ .Site.Title }}">

  <!-- Open Graph -->
  <meta property="og:title" content="{{ .Title }}">
  <meta property="og:description" content="Pheglovog çš„åšå®¢">
  <meta property="og:type" content="website">
  <meta property="og:url" content="{{ .Permalink }}">
  <meta property="og:image" content="{{ .Site.Params.images | default "https://example.com/og-image.png" }}">

  <style>
    /* æ ·å¼å†…è”ä»¥ç®€åŒ– */
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: -apple-system, "SF Pro Text", BlinkMacSystemFont, "Microsoft YaHei", "å¾®è½¯é›…é»‘", "Segoe UI", Roboto, "PingFang SC", "Hiragino Sans GB", sans-serif; background: #fafafa; color: #1a1a1a; line-height: 1.7; -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale; }
    a { text-decoration: none; color: inherit; transition: color 0.2s; }
    a:hover { color: #1a1a1a; }
    .container { max-width: 1000px; margin: 0 auto; padding: 0 24px; }

    /* Header */
    .site-header { background: #fff; border-bottom: 1px solid #e5e5e5; padding: 1rem 0; position: sticky; top: 0; z-index: 100; }
    .header-content { max-width: 1000px; margin: 0 auto; padding: 0 24px; display: flex; justify-content: space-between; align-items: center; }
    .logo { font-size: 1.125rem; font-weight: 600; color: #1a1a1a; }
    .nav { display: flex; gap: 2rem; }
    .nav a { font-size: 0.9375rem; color: #666; font-weight: 500; }
    .nav a.active { color: #1a1a1a; font-weight: 600; }

    /* Hero */
    .hero { text-align: center; padding: 3rem 0; background: linear-gradient(180deg, #fafafa 0%, #ffffff 100%); }
    .hero h1 { font-size: 2.25rem; font-weight: 700; color: #1a1a1a; margin-bottom: 1rem; letter-spacing: -1px; }
    .hero p { font-size: 1.0625rem; color: #666; }

    /* Blog Grid */
    .blog-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 1.5rem; margin-top: 2rem; }

    /* Article List */
    .article-list { width: 100%; }
    .article-item { border-bottom: 1px solid #f0f0f0; padding: 2rem 0; transition: background 0.2s; }
    .article-item:hover { background: #fafafa; }
    .article-number { display: inline-flex; align-items: center; justify-content: center; width: 32px; height: 32px; background: #1a1a1a; color: #fff; border-radius: 50%; font-size: 1.125rem; font-weight: 600; margin-right: 1rem; }
    .article-content { flex: 1; }
    .article-main { flex: 1; min-width: 0; }
    .article-title { font-size: 1.25rem; font-weight: 600; margin-bottom: 0.5rem; color: #1a1a1a; }
    .article-meta { display: flex; gap: 1rem; font-size: 0.875rem; color: #999; margin-top: 0.5rem; }
    .article-excerpt { font-size: 0.9375rem; color: #666; line-height: 1.6; margin-bottom: 1rem; }
    .article-tags { display: flex; gap: 0.5rem; flex-wrap: wrap; margin-top: 0.75rem; }
    .tag { background: #f0f0f0; padding: 0.375rem 0.875rem; border-radius: 4px; font-size: 0.8125rem; color: #666; font-weight: 500; border: 1px solid #e5e5e5; }
    .tag:hover { background: #1a1a1a; color: #fff; border-color: #1a1a1a; }

    /* Pagination */
    .pagination { display: flex; justify-content: center; gap: 0.5rem; margin-top: 3rem; }
    .page-link { padding: 0.75rem 1.25rem; background: #fff; border: 1px solid #e5e5e5; border-radius: 8px; font-weight: 500; color: #1a1a1a; transition: all 0.2s; }
    .page-link:hover { border-color: #1a1a1a; background: #f5f5f5; transform: translateY(-1px); }
    .page-link.disabled { opacity: 0.5; cursor: not-allowed; }
    .page-link.active { background: #1a1a1a; color: #fff; }

    /* Footer */
    .site-footer { background: #fff; padding: 2.5rem 1.5rem; text-align: center; margin-top: 4rem; border-top: 1px solid #e5e5e5; }
    .site-footer p { color: #666; font-size: 0.875rem; margin-bottom: 0.5rem; }
    .site-footer a { color: #1a1a1a; font-weight: 500; }
    .site-footer a:hover { text-decoration: underline; }

    /* Responsive */
    @media (max-width: 768px) {
      .hero h1 { font-size: 1.75rem; }
      .blog-grid { grid-template-columns: 1fr; }
      .article-item { padding: 1.5rem; }
      .header-content { flex-direction: column; gap: 1rem; }
      .nav { gap: 1.25rem; flex-wrap: wrap; justify-content: center; }
    }
  </style>
</head>
<body>
  <!-- Header -->
  <header class="site-header">
    <div class="header-content">
      <a href="{{ .Site.BaseURL }}" class="logo">{{ .Site.Title }}</a>
      <nav class="nav">
        <a href="{{ .Site.BaseURL }}" class="{{ if eq .Page.Kind "page" }}active{{ end }}">é¦–é¡µ</a>
        <a href="{{ "posts" | relURL }}" class="active">åšå®¢</a>
        <a href="{{ "projects" | relURL }}">é¡¹ç›®</a>
        <a href="{{ "about" | relURL }}">å…³äº</a>
      </nav>
    </div>
  </header>

  <main class="container">
    <!-- Hero -->
    <section class="hero">
      <h1>ğŸ“ æŠ€æœ¯åšå®¢</h1>
      <p>åˆ†äº«å¼€å‘å¿ƒå¾—ã€å­¦ä¹ ç¬”è®°å’Œé¡¹ç›®å®è·µ</p>
    </section>

    <!-- æ–‡ç« åˆ—è¡¨ -->
    <div class="article-list">
      {{- $counter := 1 }}
      {{- range .Pages }}
      {{- if eq .Kind "page" }}
      <article class="article-item">
        <!-- æ–‡ç« ç¼–å· -->
        <span class="article-number">{{ $counter }}</span>

        <!-- æ–‡ç« å†…å®¹ -->
        <div class="article-content">
          <div class="article-main">
            <!-- æ ‡é¢˜å’Œå…ƒæ•°æ® -->
            <h2 class="article-title">{{ .Title }}</h2>

            <!-- æ–‡ç« æ‘˜è¦ -->
            <p class="article-excerpt">{{ .Summary | plainify | truncate 150 }}</p>

            <!-- æ–‡ç« æ ‡ç­¾ -->
            {{- if .Params.tags }}
            <div class="article-tags">
              {{- range .Params.tags }}
              <a href="{{ "tags" | relURL }}/{{ . | urlize }}/" class="tag">{{ . }}</a>
              {{- end }}
            </div>
            {{- end }}

            <!-- æ–‡ç« å…ƒæ•°æ® -->
            <div class="article-meta">
              <span>ğŸ“… {{ .Date.Format .Site.Params.blog.dateFormat }}</span>
              {{- if .Params.categories }}
              <span> | ğŸ“ {{ index .Params.categories 0 }}</span>
              {{- end }}
              <span> | â± {{ .ReadingTime }} åˆ†é’Ÿé˜…è¯»</span>
            </div>
          </div>
        </div>

        <!-- æ–‡ç« é“¾æ¥ -->
        <div style="margin-top: auto; text-align: right;">
          <a href="{{ .Permalink }}" class="read-more-btn">
            é˜…è¯»å…¨æ–‡ â†’
          </a>
        </div>
      </article>
      {{- $counter = add $counter 1 }}
      {{- end }}
      {{- end }}
    </div>

    <!-- åˆ†é¡µ -->
    {{- if gt .Paginator.TotalPages 1 }}
    <nav class="pagination">
      {{- if .Paginator.HasPrev }}
      <a href="{{ .Paginator.Prev.URL }}" class="page-link">â† ä¸Šä¸€é¡µ</a>
      {{- else }}
      <span class="page-link disabled">â† ä¸Šä¸€é¡µ</span>
      {{- end }}

      <span style="color: #999; font-weight: 500;">ç¬¬ {{ .Paginator.PageNumber }} / {{ .Paginator.TotalPages }} é¡µ</span>

      {{- if .Paginator.HasNext }}
      <a href="{{ .Paginator.Next.URL }}" class="page-link">ä¸‹ä¸€é¡µ â†’</a>
      {{- else }}
      <span class="page-link disabled">ä¸‹ä¸€é¡µ â†’</span>
      {{- end }}
    </nav>
    {{- end }}
  </main>

  <!-- Footer -->
  <footer class="site-footer">
    <p>Â© {{ now.Year }} {{ .Site.Title }}</p>
    <a href="{{ .Site.Params.social.github }}" target="_blank">GitHub</a>
  </footer>
</body>
</html>

{{ end }}
