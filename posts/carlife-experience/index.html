<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="é‡åŒ–äº¤æ˜“ | åŒºå—é“¾ | å…¨æ ˆå¼€å‘">
  <title>CarLife åŒºå—é“¾æ±½è½¦ç”Ÿæ´»å¹³å°å¼€å‘ç»éªŒ - Pheglovog</title>
  <link rel="stylesheet" href="/css/custom.css">
</head>
<body>
  <nav class="navbar">
    <div class="navbar-content">
      <a href="/" class="navbar-brand">Pheglovog</a>
      <div class="navbar-links">
        <a href="/" class="navbar-link">é¦–é¡µ</a>
        <a href="/projects/" class="navbar-link">é¡¹ç›®</a>
        <a href="/posts/" class="navbar-link">åšå®¢</a>
        <a href="/about/" class="navbar-link">å…³äº</a>
      </div>
    </div>
  </nav>

  <main>
    
<link rel="stylesheet" href="/css/custom.css">

<nav class="navbar">
  <div class="navbar-content">
    <a href="/" class="navbar-brand">Pheglovog</a>
    <div class="navbar-links">
      <a href="/" class="navbar-link">é¦–é¡µ</a>
      <a href="/projects/" class="navbar-link">é¡¹ç›®</a>
      <a href="/posts/" class="navbar-link">åšå®¢</a>
      <a href="/about/" class="navbar-link">å…³äº</a>
    </div>
  </div>
</nav>

<section class="page-section" style="padding-top: 80px;">
  <div class="section-header">
    <a href="/posts/" class="btn btn-outline" style="display: inline-flex; margin-bottom: 1rem;">â† è¿”å›åšå®¢åˆ—è¡¨</a>
    <h2 class="section-title">CarLife åŒºå—é“¾æ±½è½¦ç”Ÿæ´»å¹³å°å¼€å‘ç»éªŒ</h2>
    <p class="section-description">2026-02-01</p>
  </div>

  <article style="max-width: 700px; margin: 0 auto; line-height: 1.8;">
    <div style="margin-bottom: 2rem;">
      
      
      <span class="tag">åŒºå—é“¾</span>
      
      <span class="tag">Solidity</span>
      
      <span class="tag">Ethereum</span>
      
      
    </div>

    <div class="content">
      <h2 id="é¡¹ç›®èƒŒæ™¯">é¡¹ç›®èƒŒæ™¯</h2>
<p>CarLife æ˜¯ä¸€ä¸ªåŸºäº Ethereum åŒºå—é“¾çš„æ±½è½¦ç”Ÿæ´»å¹³å°ï¼Œåˆ©ç”¨åŒºå—é“¾æŠ€æœ¯è®°å½•è½¦è¾†çš„å®Œæ•´ç”Ÿå‘½å‘¨æœŸä¿¡æ¯ã€‚</p>
<h2 id="æ ¸å¿ƒåŠŸèƒ½">æ ¸å¿ƒåŠŸèƒ½</h2>
<h3 id="1-è½¦è¾†-nft-erc721">1. è½¦è¾† NFT (ERC721)</h3>
<p>æ¯è¾†è½¦è¢«é“¸é€ ä¸ºä¸€ä¸ªç‹¬ç‰¹çš„ NFTï¼ŒåŒ…å«ï¼š</p>
<ul>
<li>è½¦è¾†åŸºæœ¬ä¿¡æ¯ï¼ˆVINã€å“ç‰Œã€å‹å·ï¼‰</li>
<li>é‡Œç¨‹è®°å½•</li>
<li>ç»´ä¿®å†å²</li>
<li>è½¦ä¸»ä¿¡æ¯</li>
</ul>
<h3 id="2-æœåŠ¡å•†æ³¨å†Œ">2. æœåŠ¡å•†æ³¨å†Œ</h3>
<p>æ™ºèƒ½åˆçº¦å…è®¸æœåŠ¡å•†æ³¨å†Œï¼š</p>
<ul>
<li>æ±½è½¦ç»´ä¿®åº—</li>
<li>ä¿é™©å…¬å¸</li>
<li>åŠ æ²¹ç«™</li>
<li>æ´—è½¦åº—</li>
</ul>
<h3 id="3-è¯„ä»·ç³»ç»Ÿ">3. è¯„ä»·ç³»ç»Ÿ</h3>
<p>ç”¨æˆ·å¯ä»¥å¯¹æœåŠ¡å•†è¿›è¡Œè¯„åˆ†å’Œè¯„ä»·ï¼Œæ‰€æœ‰è®°å½•å­˜å‚¨åœ¨åŒºå—é“¾ä¸Šï¼Œä¸å¯ç¯¡æ”¹ã€‚</p>
<h3 id="4-æ•°æ®-token">4. æ•°æ® Token</h3>
<p>ä½¿ç”¨ ERC20 æ ‡å‡†çš„ Data Token æ¿€åŠ±ç”¨æˆ·åˆ†äº«è½¦è¾†æ•°æ®ã€‚</p>
<h2 id="æŠ€æœ¯æ ˆ">æŠ€æœ¯æ ˆ</h2>
<ul>
<li><strong>æ™ºèƒ½åˆçº¦</strong>: Solidity</li>
<li><strong>æ ‡å‡†</strong>: ERC721, ERC20</li>
<li><strong>åº“</strong>: OpenZeppelin</li>
<li><strong>åç«¯</strong>: FastAPI (Python)</li>
<li><strong>å‰ç«¯</strong>: HTML/CSS/JavaScript</li>
<li><strong>Web3 åº“</strong>: Ethers.js</li>
</ul>
<h2 id="å¼€å‘ç»éªŒ">å¼€å‘ç»éªŒ</h2>
<h3 id="1-solidity-å­¦ä¹ ">1. Solidity å­¦ä¹ </h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-solidity" data-lang="solidity"><span style="display:flex;"><span><span style="color:#75715e">// SPDX-License-Identifier: MIT
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">pragma solidity</span> <span style="color:#f92672">^</span><span style="color:#ae81ff">0</span>.<span style="color:#ae81ff">8</span>.<span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> <span style="color:#e6db74">&#34;@openzeppelin/contracts/token/ERC721/ERC721.sol&#34;</span>;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> <span style="color:#e6db74">&#34;@openzeppelin/contracts/access/Ownable.sol&#34;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">contract</span> <span style="color:#a6e22e">CarNFT</span> <span style="color:#66d9ef">is</span> ERC721, Ownable {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">struct</span> <span style="color:#a6e22e">Car</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">string</span> vin;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">string</span> brand;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">string</span> model;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">uint256</span> mileage;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">address</span> owner;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">mapping</span>(<span style="color:#66d9ef">uint256</span> <span style="color:#f92672">=&gt;</span> Car) <span style="color:#66d9ef">public</span> cars;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">uint256</span> <span style="color:#66d9ef">private</span> _tokenIdCounter;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">constructor</span>() ERC721(<span style="color:#e6db74">&#34;CarLife Car&#34;</span>, <span style="color:#e6db74">&#34;CLCAR&#34;</span>) {}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">mintCar</span>(
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">string</span> <span style="color:#66d9ef">memory</span> vin,
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">string</span> <span style="color:#66d9ef">memory</span> brand,
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">string</span> <span style="color:#66d9ef">memory</span> model
</span></span><span style="display:flex;"><span>    ) <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">returns</span> (<span style="color:#66d9ef">uint256</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">uint256</span> tokenId <span style="color:#f92672">=</span> _tokenIdCounter;
</span></span><span style="display:flex;"><span>        _tokenIdCounter<span style="color:#f92672">++</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        _mint(msg.sender, tokenId);
</span></span><span style="display:flex;"><span>        cars[tokenId] <span style="color:#f92672">=</span> Car(vin, brand, model, <span style="color:#ae81ff">0</span>, msg.sender);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> tokenId;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">updateMileage</span>(<span style="color:#66d9ef">uint256</span> tokenId, <span style="color:#66d9ef">uint256</span> newMileage) <span style="color:#66d9ef">public</span> {
</span></span><span style="display:flex;"><span>        require(_isApprovedOrOwner(_msgSender(), tokenId), <span style="color:#e6db74">&#34;Not authorized&#34;</span>);
</span></span><span style="display:flex;"><span>        cars[tokenId].mileage <span style="color:#f92672">=</span> newMileage;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h3 id="2-openzeppelin-åº“ä½¿ç”¨">2. OpenZeppelin åº“ä½¿ç”¨</h3>
<p>OpenZeppelin æä¾›äº†ç»è¿‡å®¡è®¡çš„å®‰å…¨åˆçº¦ï¼š</p>
<ul>
<li><code>ERC721</code> - NFT æ ‡å‡†</li>
<li><code>Ownable</code> - æ‰€æœ‰è€…æƒé™ç®¡ç†</li>
<li><code>Counters</code> - è®¡æ•°å™¨å·¥å…·</li>
<li><code>ERC20</code> - ä»£å¸æ ‡å‡†</li>
</ul>
<h3 id="3-gas-ä¼˜åŒ–">3. Gas ä¼˜åŒ–</h3>
<ul>
<li>ä½¿ç”¨ <code>calldata</code> ä»£æ›¿ <code>memory</code></li>
<li>æ‰¹é‡æ“ä½œå‡å°‘äº¤æ˜“æ¬¡æ•°</li>
<li>ä½¿ç”¨äº‹ä»¶è®°å½•æ—¥å¿—ï¼ŒèŠ‚çœå­˜å‚¨æˆæœ¬</li>
</ul>
<h3 id="4-å®‰å…¨è€ƒè™‘">4. å®‰å…¨è€ƒè™‘</h3>
<ul>
<li>æ£€æŸ¥ <code>msg.sender</code> æƒé™</li>
<li>ä½¿ç”¨ <code>onlyOwner</code> ä¿®é¥°ç¬¦</li>
<li>éªŒè¯è¾“å…¥å‚æ•°</li>
<li>é˜²æ­¢é‡å…¥æ”»å‡»</li>
</ul>
<h2 id="éƒ¨ç½²">éƒ¨ç½²</h2>
<h3 id="æµ‹è¯•ç½‘">æµ‹è¯•ç½‘</h3>
<ol>
<li>è¿æ¥åˆ° Sepolia æµ‹è¯•ç½‘</li>
<li>ä½¿ç”¨ Remix æˆ– Hardhat éƒ¨ç½²</li>
<li>éªŒè¯åˆçº¦ä»£ç </li>
</ol>
<h3 id="ä¸»ç½‘">ä¸»ç½‘</h3>
<ol>
<li>å®¡è®¡åˆçº¦ä»£ç </li>
<li>è·å–æµ‹è¯•ç½‘ ETH</li>
<li>éƒ¨ç½²åˆ°ä¸»ç½‘</li>
<li>éªŒè¯åˆçº¦</li>
</ol>
<h2 id="é¡¹ç›®åœ°å€">é¡¹ç›®åœ°å€</h2>
<p><a href="https://github.com/Pheglovog/carlife-eth">GitHub</a></p>
<h2 id="æ€»ç»“">æ€»ç»“</h2>
<p>é€šè¿‡ CarLife é¡¹ç›®ï¼Œæˆ‘æ·±å…¥å­¦ä¹ äº†ï¼š</p>
<ol>
<li>Solidity æ™ºèƒ½åˆçº¦å¼€å‘</li>
<li>ERC721 å’Œ ERC20 æ ‡å‡†</li>
<li>åŒºå—é“¾åº”ç”¨æ¶æ„</li>
<li>Web3 å‰ç«¯é›†æˆ</li>
</ol>
<p>åŒºå—é“¾æŠ€æœ¯æ­£åœ¨æ”¹å˜æ±½è½¦è¡Œä¸šï¼Œæˆ‘å¾ˆé«˜å…´èƒ½å‚ä¸å…¶ä¸­ï¼</p>
<hr>
<p><strong>ğŸš— æœªæ¥çš„æ±½è½¦ç”Ÿæ´»ï¼Œä» CarLife å¼€å§‹ï¼</strong></p>

    </div>
  </article>
</section>

<footer class="footer">
  <div class="footer-content">
    <p class="footer-text">Â© 2026 Pheglovog</p>
    <a href="https://github.com/Pheglovog" class="footer-link">GitHub</a>
  </div>
</footer>

  </main>

  <footer class="footer">
    <div class="footer-content">
      <p class="footer-text">Â© 2026 Pheglovog</p>
      <a href="https://github.com/Pheglovog" class="footer-link">GitHub</a>
    </div>
  </footer>
</body>
</html>
