<!doctype html><html lang=en class=color-toggle-hidden><head><meta charset=UTF-8><meta name=referrer content="no-referrer"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=color-scheme content="light dark"><meta name=generator content="Hugo 0.136.5"><meta name=description content=" Tushare Pro ç®€ä»‹ Tushare Pro æ˜¯ä¸­å›½è‚¡å¸‚æœ€å…¨é¢çš„æ•°æ®æ¥å£å¹³å°ï¼Œæä¾›è‚¡ç¥¨è¡Œæƒ…ã€è´¢åŠ¡æ•°æ®ã€å®è§‚ç»æµç­‰æ•°æ®ã€‚
ç§¯åˆ†è¯´æ˜ 2000 ç§¯åˆ†: æ¯æ—¥å¯è°ƒç”¨ 3000 æ¬¡ï¼Œå¹¶å‘é™åˆ¶ 5 5000 ç§¯åˆ†: æ¯æ—¥å¯è°ƒç”¨ 10000 æ¬¡ï¼Œå¹¶å‘é™åˆ¶ 10 æ›´é«˜ç§¯åˆ†: æ›´å¤šè°ƒç”¨æ¬¡æ•°å’Œå¹¶å‘æ•° é…ç½®æ­¥éª¤ 1. æ³¨å†Œè´¦å· è®¿é—® https://tushare.pro æ³¨å†Œè´¦å·å¹¶ç™»å½•"><title>Tushare Pro 2000 ç§¯åˆ†é…ç½®æŒ‡å— | Pheglovog</title>
<link rel=icon type=image/svg+xml href=/pheglovog-site/favicon/favicon.svg><link rel=icon type=image/png sizes=32x32 href=/pheglovog-site/favicon/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/pheglovog-site/favicon/favicon-16x16.png><meta property="og:title" content="Tushare Pro 2000 ç§¯åˆ†é…ç½®æŒ‡å—"><meta property="og:site_name" content="Pheglovog"><meta property="og:image" content="https://pheglovog.github.io/images/avatar.png"><meta property="og:description" content=" Tushare Pro ç®€ä»‹ Tushare Pro æ˜¯ä¸­å›½è‚¡å¸‚æœ€å…¨é¢çš„æ•°æ®æ¥å£å¹³å°ï¼Œæä¾›è‚¡ç¥¨è¡Œæƒ…ã€è´¢åŠ¡æ•°æ®ã€å®è§‚ç»æµç­‰æ•°æ®ã€‚
ç§¯åˆ†è¯´æ˜ 2000 ç§¯åˆ†: æ¯æ—¥å¯è°ƒç”¨ 3000 æ¬¡ï¼Œå¹¶å‘é™åˆ¶ 5 5000 ç§¯åˆ†: æ¯æ—¥å¯è°ƒç”¨ 10000 æ¬¡ï¼Œå¹¶å‘é™åˆ¶ 10 æ›´é«˜ç§¯åˆ†: æ›´å¤šè°ƒç”¨æ¬¡æ•°å’Œå¹¶å‘æ•° é…ç½®æ­¥éª¤ 1. æ³¨å†Œè´¦å· è®¿é—® https://tushare.pro æ³¨å†Œè´¦å·å¹¶ç™»å½•"><meta property="og:type" content="article"><meta property="og:url" content="https://pheglovog.github.io/pheglovog-site/posts/tushare-guide/"><meta property="article:section" content="Posts"><meta property="article:published_time" content="2026-01-31T00:00:00+00:00"><meta property="article:modified_time" content="2026-01-31T00:00:00+00:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:title content="Tushare Pro 2000 ç§¯åˆ†é…ç½®æŒ‡å—"><meta property="twitter:image" content="https://pheglovog.github.io/images/avatar.png"><meta name=twitter:description content=" Tushare Pro ç®€ä»‹ Tushare Pro æ˜¯ä¸­å›½è‚¡å¸‚æœ€å…¨é¢çš„æ•°æ®æ¥å£å¹³å°ï¼Œæä¾›è‚¡ç¥¨è¡Œæƒ…ã€è´¢åŠ¡æ•°æ®ã€å®è§‚ç»æµç­‰æ•°æ®ã€‚
ç§¯åˆ†è¯´æ˜ 2000 ç§¯åˆ†: æ¯æ—¥å¯è°ƒç”¨ 3000 æ¬¡ï¼Œå¹¶å‘é™åˆ¶ 5 5000 ç§¯åˆ†: æ¯æ—¥å¯è°ƒç”¨ 10000 æ¬¡ï¼Œå¹¶å‘é™åˆ¶ 10 æ›´é«˜ç§¯åˆ†: æ›´å¤šè°ƒç”¨æ¬¡æ•°å’Œå¹¶å‘æ•° é…ç½®æ­¥éª¤ 1. æ³¨å†Œè´¦å· è®¿é—® https://tushare.pro æ³¨å†Œè´¦å·å¹¶ç™»å½•"><script type=application/ld+json>{"@context":"http://schema.org","@type":"TechArticle","articleSection":"Posts","name":"Tushare Pro 2000 ç§¯åˆ†é…ç½®æŒ‡å—","url":"https://pheglovog.github.io/pheglovog-site/posts/tushare-guide/","headline":"Tushare Pro 2000 ç§¯åˆ†é…ç½®æŒ‡å—","description":" Tushare Pro ç®€ä»‹ Tushare Pro æ˜¯ä¸­å›½è‚¡å¸‚æœ€å…¨é¢çš„æ•°æ®æ¥å£å¹³å°ï¼Œæä¾›è‚¡ç¥¨è¡Œæƒ…ã€è´¢åŠ¡æ•°æ®ã€å®è§‚ç»æµç­‰æ•°æ®ã€‚\nç§¯åˆ†è¯´æ˜ 2000 ç§¯åˆ†: æ¯æ—¥å¯è°ƒç”¨ 3000 æ¬¡ï¼Œå¹¶å‘é™åˆ¶ 5 5000 ç§¯åˆ†: æ¯æ—¥å¯è°ƒç”¨ 10000 æ¬¡ï¼Œå¹¶å‘é™åˆ¶ 10 æ›´é«˜ç§¯åˆ†: æ›´å¤šè°ƒç”¨æ¬¡æ•°å’Œå¹¶å‘æ•° é…ç½®æ­¥éª¤ 1. æ³¨å†Œè´¦å· è®¿é—® https:\/\/tushare.pro æ³¨å†Œè´¦å·å¹¶ç™»å½•","thumbnailUrl":"https://pheglovog.github.io/images/avatar.png","wordCount":"177","inLanguage":"en","isFamilyFriendly":"true","mainEntityOfPage":{"@type":"WebPage","@id":"https://pheglovog.github.io/pheglovog-site/posts/tushare-guide/"},"keywords":["Python","Tushare","API"],"copyrightHolder":"Pheglovog","copyrightYear":"2026","dateCreated":"2026-01-31T00:00:00.00Z","datePublished":"2026-01-31T00:00:00.00Z","dateModified":"2026-01-31T00:00:00.00Z","publisher":{"@type":"Organization","name":"Pheglovog","url":"https://pheglovog.github.io/pheglovog-site/","logo":{"@type":"ImageObject","url":"https://pheglovog.github.io/pheglovog-site/brand.svg","width":"32","height":"32"}}}</script><script src=/pheglovog-site/></script><script src=/pheglovog-site/></script><link rel=preload as=font href=/pheglovog-site/fonts/Metropolis.woff2 type=font/woff2 crossorigin=anonymous><link rel=preload as=font href=/pheglovog-site/fonts/LiberationSans.woff2 type=font/woff2 crossorigin=anonymous><link rel=preload href=/pheglovog-site/ as=style><link rel=stylesheet href=/pheglovog-site/ media=all><link rel=preload href=/pheglovog-site/ as=style><link rel=stylesheet href=/pheglovog-site/ media="screen and (max-width: 45rem)"><link rel=preload href=/pheglovog-site/ as=style><link rel=stylesheet href=/pheglovog-site/ media=print><link rel=preload href=/pheglovog-site/ as=style><link rel=stylesheet href=/pheglovog-site/ media=all><link href=https://pheglovog.github.io/pheglovog-site/posts/tushare-guide/ rel=canonical type=text/html></head><body itemscope itemtype=https://schema.org/WebPage><div class="w-full flex justify-center"><a href=#main-content id=gdoc-to-main class=gdoc-markdown__link>Skip to main content</a></div><div class=wrapper><header class=gdoc-header><div class="container flex align-center justify-between"><label for=menu-control class=gdoc-nav__control><div tabindex=0 role=button aria-pressed=false><input type=checkbox class=hidden id=menu-control><svg class="gdoc-icon gdoc_menu"><title>Open Navigation</title><use xlink:href="#gdoc_menu"/></svg><svg class="gdoc-icon gdoc_arrow_back"><title>Close Navigation</title><use xlink:href="#gdoc_arrow_back"/></svg></div></label><div><a class="gdoc-brand gdoc-header__link flex gap-16 align-center" href=https://pheglovog.github.io/pheglovog-site/><img class=gdoc-brand__img src=/pheglovog-site/brand.svg alt><div><div class=gdoc-brand__title>Pheglovog</div></div></a></div><div class="gdoc-menu-header flex gap-16"><span class=gdoc-menu-header__items><span id=gdoc-color-theme tabindex=0 role=button aria-pressed=false><svg class="gdoc-icon gdoc_brightness_dark"><title>Toggle Dark/Light/Auto mode</title><use xlink:href="#gdoc_brightness_dark"/></svg>
<svg class="gdoc-icon gdoc_brightness_light"><title>Toggle Dark/Light/Auto mode</title><use xlink:href="#gdoc_brightness_light"/></svg>
<svg class="gdoc-icon gdoc_brightness_auto"><title>Toggle Dark/Light/Auto mode</title><use xlink:href="#gdoc_brightness_auto"/></svg>
</span><span class=gdoc-menu-header__home><a href=https://pheglovog.github.io/pheglovog-site/ class=gdoc-header__link><svg class="gdoc-icon gdoc_home"><title>Back to homepage</title><use xlink:href="#gdoc_home"/></svg>
</a></span></span><span class=gdoc-menu-header__control><label for=menu-header-control><div tabindex=0 role=button aria-pressed=false><input type=checkbox class=hidden id=menu-header-control><svg class="gdoc-icon gdoc_keyboard_arrow_right"><use xlink:href="#gdoc_keyboard_arrow_right"/><title>Close Menu Bar</title></svg><svg class="gdoc-icon gdoc_keyboard_arrow_left"><use xlink:href="#gdoc_keyboard_arrow_left"/><title>Open Menu Bar</title></svg></div></label></span></div></div></header><main class="container flex flex-even"><aside class=gdoc-nav><nav><script defer src=/pheglovog-site/></script><div class="gdoc-search flex align-center"><svg class="gdoc-icon gdoc_search"><use xlink:href="#gdoc_search"/></svg>
<input type=text id=gdoc-search-input class=gdoc-search__input placeholder=Search... aria-label=Search maxlength=64 data-site-base-url=https://pheglovog.github.io/pheglovog-site/ data-site-lang=en><ul id=gdoc-search-results class=gdoc-search__list></ul></div><section class=gdoc-nav--main><h2>Navigation</h2><ul class=gdoc-nav__list><li><input type=checkbox class=hidden>
<label><span class=flex>Posts</span></label><ul class=gdoc-nav__list><li><input type=checkbox class=hidden>
<label><span class=flex><a href=/pheglovog-site/posts/alphquant-summary/ class=gdoc-nav__entry>AlphaQuant ä¸­å›½è‚¡å¸‚é‡åŒ–ç³»ç»Ÿå¼€å‘æ€»ç»“</a></span></label></li><li><input type=checkbox class=hidden>
<label><span class=flex><a href=/pheglovog-site/posts/carlife-experience/ class=gdoc-nav__entry>CarLife åŒºå—é“¾æ±½è½¦ç”Ÿæ´»å¹³å°å¼€å‘ç»éªŒ</a></span></label></li><li><input type=checkbox class=hidden>
<label><span class=flex><a href=/pheglovog-site/posts/tushare-guide/ class="gdoc-nav__entry is-active">Tushare Pro 2000 ç§¯åˆ†é…ç½®æŒ‡å—</a></span></label></li><li><input type=checkbox class=hidden>
<label><span class=flex><a href=/pheglovog-site/posts/growth-story/ class=gdoc-nav__entry>ä»åœŸå“¥åˆ°ä¸Šç­‰å…µâ€¢ç”˜ - æˆ‘çš„æˆé•¿ä¹‹è·¯</a></span></label></li></ul></li><li><input type=checkbox class=hidden>
<label><span class=flex><a href=/pheglovog-site/about/ class=gdoc-nav__entry>å…³äº</a></span></label></li><li><input type=checkbox class=hidden>
<label><span class=flex><a href=/pheglovog-site/projects/ class=gdoc-nav__entry>é¡¹ç›®</a></span></label></li></ul></section><section class=gdoc-nav--more></section></nav></aside><div class=gdoc-page><article class=gdoc-post id=main-content tabindex=-1><header class=gdoc-post__header><h1 class=gdoc-post__title>Tushare Pro 2000 ç§¯åˆ†é…ç½®æŒ‡å—</h1><div class="flex flex-wrap align-center gdoc-post__meta gdoc-post__meta--head"><span class="flex align-center no-wrap"><svg class="gdoc-icon gdoc_date"><use xlink:href="#gdoc_date"/></svg>
<span class=gdoc-post__tag><time datetime=2026-01-31T00:00:00Z>Jan 31, 2026
</time></span></span><span class="flex align-center no-wrap"><svg class="gdoc-icon gdoc_timer"><use xlink:href="#gdoc_timer"/></svg>
<span class=gdoc-post__tag>One minute to read</span></span></div></header><section class=gdoc-markdown><div class="flex align-center gdoc-page__anchorwrap"><h2 id=tushare-pro-ç®€ä»‹>Tushare Pro ç®€ä»‹</h2><a data-clipboard-text=https://pheglovog.github.io/pheglovog-site/posts/tushare-guide/#tushare-pro-ç®€ä»‹ class="gdoc-page__anchor clip flex align-center" title="Anchor to: Tushare Pro ç®€ä»‹" aria-label="Anchor to: Tushare Pro ç®€ä»‹" href=#tushare-pro-%e7%ae%80%e4%bb%8b><svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"/></svg></a></div><p>Tushare Pro æ˜¯ä¸­å›½è‚¡å¸‚æœ€å…¨é¢çš„æ•°æ®æ¥å£å¹³å°ï¼Œæä¾›è‚¡ç¥¨è¡Œæƒ…ã€è´¢åŠ¡æ•°æ®ã€å®è§‚ç»æµç­‰æ•°æ®ã€‚</p><div class="flex align-center gdoc-page__anchorwrap"><h2 id=ç§¯åˆ†è¯´æ˜>ç§¯åˆ†è¯´æ˜</h2><a data-clipboard-text=https://pheglovog.github.io/pheglovog-site/posts/tushare-guide/#ç§¯åˆ†è¯´æ˜ class="gdoc-page__anchor clip flex align-center" title="Anchor to: ç§¯åˆ†è¯´æ˜" aria-label="Anchor to: ç§¯åˆ†è¯´æ˜" href=#%e7%a7%af%e5%88%86%e8%af%b4%e6%98%8e><svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"/></svg></a></div><ul><li><strong>2000 ç§¯åˆ†</strong>: æ¯æ—¥å¯è°ƒç”¨ 3000 æ¬¡ï¼Œå¹¶å‘é™åˆ¶ 5</li><li><strong>5000 ç§¯åˆ†</strong>: æ¯æ—¥å¯è°ƒç”¨ 10000 æ¬¡ï¼Œå¹¶å‘é™åˆ¶ 10</li><li><strong>æ›´é«˜ç§¯åˆ†</strong>: æ›´å¤šè°ƒç”¨æ¬¡æ•°å’Œå¹¶å‘æ•°</li></ul><div class="flex align-center gdoc-page__anchorwrap"><h2 id=é…ç½®æ­¥éª¤>é…ç½®æ­¥éª¤</h2><a data-clipboard-text=https://pheglovog.github.io/pheglovog-site/posts/tushare-guide/#é…ç½®æ­¥éª¤ class="gdoc-page__anchor clip flex align-center" title="Anchor to: é…ç½®æ­¥éª¤" aria-label="Anchor to: é…ç½®æ­¥éª¤" href=#%e9%85%8d%e7%bd%ae%e6%ad%a5%e9%aa%a4><svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"/></svg></a></div><div class="flex align-center gdoc-page__anchorwrap"><h3 id=1-æ³¨å†Œè´¦å·>1. æ³¨å†Œè´¦å·</h3><a data-clipboard-text=https://pheglovog.github.io/pheglovog-site/posts/tushare-guide/#1-æ³¨å†Œè´¦å· class="gdoc-page__anchor clip flex align-center" title="Anchor to: 1. æ³¨å†Œè´¦å·" aria-label="Anchor to: 1. æ³¨å†Œè´¦å·" href=#1-%e6%b3%a8%e5%86%8c%e8%b4%a6%e5%8f%b7><svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"/></svg></a></div><p>è®¿é—® <a class=gdoc-markdown__link href=https://tushare.pro>https://tushare.pro</a> æ³¨å†Œè´¦å·å¹¶ç™»å½•</p><div class="flex align-center gdoc-page__anchorwrap"><h3 id=2-è·å–-token>2. è·å– Token</h3><a data-clipboard-text=https://pheglovog.github.io/pheglovog-site/posts/tushare-guide/#2-è·å–-token class="gdoc-page__anchor clip flex align-center" title="Anchor to: 2. è·å– Token" aria-label="Anchor to: 2. è·å– Token" href=#2-%e8%8e%b7%e5%8f%96-token><svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"/></svg></a></div><ol><li>è¿›å…¥ã€Œç”¨æˆ·ä¸­å¿ƒã€â†’ã€Œæ¥å£TOKENã€</li><li>å¤åˆ¶ Token</li></ol><div class="flex align-center gdoc-page__anchorwrap"><h3 id=3-é…ç½®ç¯å¢ƒå˜é‡>3. é…ç½®ç¯å¢ƒå˜é‡</h3><a data-clipboard-text=https://pheglovog.github.io/pheglovog-site/posts/tushare-guide/#3-é…ç½®ç¯å¢ƒå˜é‡ class="gdoc-page__anchor clip flex align-center" title="Anchor to: 3. é…ç½®ç¯å¢ƒå˜é‡" aria-label="Anchor to: 3. é…ç½®ç¯å¢ƒå˜é‡" href=#3-%e9%85%8d%e7%bd%ae%e7%8e%af%e5%a2%83%e5%8f%98%e9%87%8f><svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"/></svg></a></div><p>åˆ›å»º <code>.env</code> æ–‡ä»¶ï¼š</p><div class=highlight><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-env data-lang=env><span style=display:flex><span><span style=color:#79c0ff>TUSHARE_TOKEN</span><span style=color:#ff7b72;font-weight:700>=</span>your_token_here
</span></span></code></pre></div><div class="flex align-center gdoc-page__anchorwrap"><h3 id=4-python-ä»£ç ç¤ºä¾‹>4. Python ä»£ç ç¤ºä¾‹</h3><a data-clipboard-text=https://pheglovog.github.io/pheglovog-site/posts/tushare-guide/#4-python-ä»£ç ç¤ºä¾‹ class="gdoc-page__anchor clip flex align-center" title="Anchor to: 4. Python ä»£ç ç¤ºä¾‹" aria-label="Anchor to: 4. Python ä»£ç ç¤ºä¾‹" href=#4-python-%e4%bb%a3%e7%a0%81%e7%a4%ba%e4%be%8b><svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"/></svg></a></div><div class=highlight><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#ff7b72>import</span> <span style=color:#ff7b72>tushare</span> <span style=color:#ff7b72>as</span> <span style=color:#ff7b72>ts</span>
</span></span><span style=display:flex><span><span style=color:#ff7b72>import</span> <span style=color:#ff7b72>os</span>
</span></span><span style=display:flex><span><span style=color:#ff7b72>from</span> <span style=color:#ff7b72>dotenv</span> <span style=color:#ff7b72>import</span> load_dotenv
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>load_dotenv()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic># åˆå§‹åŒ– API</span>
</span></span><span style=display:flex><span>ts<span style=color:#ff7b72;font-weight:700>.</span>set_token(os<span style=color:#ff7b72;font-weight:700>.</span>getenv(<span style=color:#a5d6ff>&#39;TUSHARE_TOKEN&#39;</span>))
</span></span><span style=display:flex><span>pro <span style=color:#ff7b72;font-weight:700>=</span> ts<span style=color:#ff7b72;font-weight:700>.</span>pro_api()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic># è·å–è‚¡ç¥¨åˆ—è¡¨</span>
</span></span><span style=display:flex><span>stock_list <span style=color:#ff7b72;font-weight:700>=</span> pro<span style=color:#ff7b72;font-weight:700>.</span>stock_basic(exchange<span style=color:#ff7b72;font-weight:700>=</span><span style=color:#a5d6ff>&#39;&#39;</span>, list_status<span style=color:#ff7b72;font-weight:700>=</span><span style=color:#a5d6ff>&#39;L&#39;</span>)
</span></span><span style=display:flex><span>print(stock_list<span style=color:#ff7b72;font-weight:700>.</span>head())
</span></span></code></pre></div><div class="flex align-center gdoc-page__anchorwrap"><h2 id=429-é”™è¯¯å¤„ç†>429 é”™è¯¯å¤„ç†</h2><a data-clipboard-text=https://pheglovog.github.io/pheglovog-site/posts/tushare-guide/#429-é”™è¯¯å¤„ç† class="gdoc-page__anchor clip flex align-center" title="Anchor to: 429 é”™è¯¯å¤„ç†" aria-label="Anchor to: 429 é”™è¯¯å¤„ç†" href=#429-%e9%94%99%e8%af%af%e5%a4%84%e7%90%86><svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"/></svg></a></div><div class="flex align-center gdoc-page__anchorwrap"><h3 id=é—®é¢˜>é—®é¢˜</h3><a data-clipboard-text=https://pheglovog.github.io/pheglovog-site/posts/tushare-guide/#é—®é¢˜ class="gdoc-page__anchor clip flex align-center" title="Anchor to: é—®é¢˜" aria-label="Anchor to: é—®é¢˜" href=#%e9%97%ae%e9%a2%98><svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"/></svg></a></div><p>å½“è¯·æ±‚é¢‘ç‡è¶…è¿‡é™åˆ¶æ—¶ï¼Œä¼šæ”¶åˆ° 429 é”™è¯¯ã€‚</p><div class="flex align-center gdoc-page__anchorwrap"><h3 id=è§£å†³æ–¹æ¡ˆæŒ‡æ•°é€€é¿é‡è¯•>è§£å†³æ–¹æ¡ˆï¼šæŒ‡æ•°é€€é¿é‡è¯•</h3><a data-clipboard-text=https://pheglovog.github.io/pheglovog-site/posts/tushare-guide/#è§£å†³æ–¹æ¡ˆæŒ‡æ•°é€€é¿é‡è¯• class="gdoc-page__anchor clip flex align-center" title="Anchor to: è§£å†³æ–¹æ¡ˆï¼šæŒ‡æ•°é€€é¿é‡è¯•" aria-label="Anchor to: è§£å†³æ–¹æ¡ˆï¼šæŒ‡æ•°é€€é¿é‡è¯•" href=#%e8%a7%a3%e5%86%b3%e6%96%b9%e6%a1%88%e6%8c%87%e6%95%b0%e9%80%80%e9%81%bf%e9%87%8d%e8%af%95><svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"/></svg></a></div><div class=highlight><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#ff7b72>import</span> <span style=color:#ff7b72>asyncio</span>
</span></span><span style=display:flex><span><span style=color:#ff7b72>import</span> <span style=color:#ff7b72>aiohttp</span>
</span></span><span style=display:flex><span><span style=color:#ff7b72>from</span> <span style=color:#ff7b72>tenacity</span> <span style=color:#ff7b72>import</span> retry, stop_after_attempt, wait_exponential
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#d2a8ff;font-weight:700>@retry</span>(
</span></span><span style=display:flex><span>    stop<span style=color:#ff7b72;font-weight:700>=</span>stop_after_attempt(<span style=color:#a5d6ff>5</span>),
</span></span><span style=display:flex><span>    wait<span style=color:#ff7b72;font-weight:700>=</span>wait_exponential(multiplier<span style=color:#ff7b72;font-weight:700>=</span><span style=color:#a5d6ff>1</span>, min<span style=color:#ff7b72;font-weight:700>=</span><span style=color:#a5d6ff>2</span>, max<span style=color:#ff7b72;font-weight:700>=</span><span style=color:#a5d6ff>60</span>)
</span></span><span style=display:flex><span>)
</span></span><span style=display:flex><span><span style=color:#ff7b72>async</span> <span style=color:#ff7b72>def</span> <span style=color:#d2a8ff;font-weight:700>fetch_tushare_data</span>(url, params):
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>async</span> <span style=color:#ff7b72>with</span> aiohttp<span style=color:#ff7b72;font-weight:700>.</span>ClientSession() <span style=color:#ff7b72>as</span> session:
</span></span><span style=display:flex><span>        <span style=color:#ff7b72>async</span> <span style=color:#ff7b72>with</span> session<span style=color:#ff7b72;font-weight:700>.</span>get(url, params<span style=color:#ff7b72;font-weight:700>=</span>params) <span style=color:#ff7b72>as</span> response:
</span></span><span style=display:flex><span>            <span style=color:#ff7b72>if</span> response<span style=color:#ff7b72;font-weight:700>.</span>status <span style=color:#ff7b72;font-weight:700>==</span> <span style=color:#a5d6ff>429</span>:
</span></span><span style=display:flex><span>                <span style=color:#ff7b72>raise</span> <span style=color:#f0883e;font-weight:700>Exception</span>(<span style=color:#a5d6ff>&#34;Rate limited&#34;</span>)
</span></span><span style=display:flex><span>            <span style=color:#ff7b72>return</span> <span style=color:#ff7b72>await</span> response<span style=color:#ff7b72;font-weight:700>.</span>json()
</span></span></code></pre></div><div class="flex align-center gdoc-page__anchorwrap"><h3 id=å¹¶å‘æ§åˆ¶>å¹¶å‘æ§åˆ¶</h3><a data-clipboard-text=https://pheglovog.github.io/pheglovog-site/posts/tushare-guide/#å¹¶å‘æ§åˆ¶ class="gdoc-page__anchor clip flex align-center" title="Anchor to: å¹¶å‘æ§åˆ¶" aria-label="Anchor to: å¹¶å‘æ§åˆ¶" href=#%e5%b9%b6%e5%8f%91%e6%8e%a7%e5%88%b6><svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"/></svg></a></div><div class=highlight><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#ff7b72>import</span> <span style=color:#ff7b72>asyncio</span>
</span></span><span style=display:flex><span><span style=color:#ff7b72>from</span> <span style=color:#ff7b72>asyncio</span> <span style=color:#ff7b72>import</span> Semaphore
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic># é™åˆ¶å¹¶å‘æ•°ä¸º 5</span>
</span></span><span style=display:flex><span>semaphore <span style=color:#ff7b72;font-weight:700>=</span> Semaphore(<span style=color:#a5d6ff>5</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ff7b72>async</span> <span style=color:#ff7b72>def</span> <span style=color:#d2a8ff;font-weight:700>fetch_with_semaphore</span>(url, params):
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>async</span> <span style=color:#ff7b72>with</span> semaphore:
</span></span><span style=display:flex><span>        <span style=color:#ff7b72>return</span> <span style=color:#ff7b72>await</span> fetch_tushare_data(url, params)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic># æ‰¹é‡è·å–æ•°æ®</span>
</span></span><span style=display:flex><span>tasks <span style=color:#ff7b72;font-weight:700>=</span> [fetch_with_semaphore(url, params) <span style=color:#ff7b72>for</span> _ <span style=color:#ff7b72;font-weight:700>in</span> range(<span style=color:#a5d6ff>100</span>)]
</span></span><span style=display:flex><span>results <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#ff7b72>await</span> asyncio<span style=color:#ff7b72;font-weight:700>.</span>gather(<span style=color:#ff7b72;font-weight:700>*</span>tasks)
</span></span></code></pre></div><div class="flex align-center gdoc-page__anchorwrap"><h2 id=å¸¸ç”¨-api>å¸¸ç”¨ API</h2><a data-clipboard-text=https://pheglovog.github.io/pheglovog-site/posts/tushare-guide/#å¸¸ç”¨-api class="gdoc-page__anchor clip flex align-center" title="Anchor to: å¸¸ç”¨ API" aria-label="Anchor to: å¸¸ç”¨ API" href=#%e5%b8%b8%e7%94%a8-api><svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"/></svg></a></div><div class="flex align-center gdoc-page__anchorwrap"><h3 id=è·å–æ—¥çº¿è¡Œæƒ…>è·å–æ—¥çº¿è¡Œæƒ…</h3><a data-clipboard-text=https://pheglovog.github.io/pheglovog-site/posts/tushare-guide/#è·å–æ—¥çº¿è¡Œæƒ… class="gdoc-page__anchor clip flex align-center" title="Anchor to: è·å–æ—¥çº¿è¡Œæƒ…" aria-label="Anchor to: è·å–æ—¥çº¿è¡Œæƒ…" href=#%e8%8e%b7%e5%8f%96%e6%97%a5%e7%ba%bf%e8%a1%8c%e6%83%85><svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"/></svg></a></div><div class=highlight><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>df <span style=color:#ff7b72;font-weight:700>=</span> pro<span style=color:#ff7b72;font-weight:700>.</span>daily(ts_code<span style=color:#ff7b72;font-weight:700>=</span><span style=color:#a5d6ff>&#39;000001.SZ&#39;</span>, start_date<span style=color:#ff7b72;font-weight:700>=</span><span style=color:#a5d6ff>&#39;20240101&#39;</span>, end_date<span style=color:#ff7b72;font-weight:700>=</span><span style=color:#a5d6ff>&#39;20240201&#39;</span>)
</span></span></code></pre></div><div class="flex align-center gdoc-page__anchorwrap"><h3 id=è·å–è´¢åŠ¡æŒ‡æ ‡>è·å–è´¢åŠ¡æŒ‡æ ‡</h3><a data-clipboard-text=https://pheglovog.github.io/pheglovog-site/posts/tushare-guide/#è·å–è´¢åŠ¡æŒ‡æ ‡ class="gdoc-page__anchor clip flex align-center" title="Anchor to: è·å–è´¢åŠ¡æŒ‡æ ‡" aria-label="Anchor to: è·å–è´¢åŠ¡æŒ‡æ ‡" href=#%e8%8e%b7%e5%8f%96%e8%b4%a2%e5%8a%a1%e6%8c%87%e6%a0%87><svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"/></svg></a></div><div class=highlight><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>df <span style=color:#ff7b72;font-weight:700>=</span> pro<span style=color:#ff7b72;font-weight:700>.</span>fina_indicator(ts_code<span style=color:#ff7b72;font-weight:700>=</span><span style=color:#a5d6ff>&#39;000001.SZ&#39;</span>, start_date<span style=color:#ff7b72;font-weight:700>=</span><span style=color:#a5d6ff>&#39;20240101&#39;</span>)
</span></span></code></pre></div><div class="flex align-center gdoc-page__anchorwrap"><h3 id=è·å–åŒ—å‘èµ„é‡‘>è·å–åŒ—å‘èµ„é‡‘</h3><a data-clipboard-text=https://pheglovog.github.io/pheglovog-site/posts/tushare-guide/#è·å–åŒ—å‘èµ„é‡‘ class="gdoc-page__anchor clip flex align-center" title="Anchor to: è·å–åŒ—å‘èµ„é‡‘" aria-label="Anchor to: è·å–åŒ—å‘èµ„é‡‘" href=#%e8%8e%b7%e5%8f%96%e5%8c%97%e5%90%91%e8%b5%84%e9%87%91><svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"/></svg></a></div><div class=highlight><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>df <span style=color:#ff7b72;font-weight:700>=</span> pro<span style=color:#ff7b72;font-weight:700>.</span>moneyflow_hsgt(start_date<span style=color:#ff7b72;font-weight:700>=</span><span style=color:#a5d6ff>&#39;20240101&#39;</span>, end_date<span style=color:#ff7b72;font-weight:700>=</span><span style=color:#a5d6ff>&#39;20240201&#39;</span>)
</span></span></code></pre></div><div class="flex align-center gdoc-page__anchorwrap"><h2 id=æ€»ç»“>æ€»ç»“</h2><a data-clipboard-text=https://pheglovog.github.io/pheglovog-site/posts/tushare-guide/#æ€»ç»“ class="gdoc-page__anchor clip flex align-center" title="Anchor to: æ€»ç»“" aria-label="Anchor to: æ€»ç»“" href=#%e6%80%bb%e7%bb%93><svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"/></svg></a></div><p>Tushare Pro æ˜¯é‡åŒ–äº¤æ˜“çš„é‡è¦å·¥å…·ï¼Œåˆç†é…ç½®å¹¶å‘æ§åˆ¶å’Œé”™è¯¯å¤„ç†å¯ä»¥æé«˜æ•°æ®è·å–æ•ˆç‡ã€‚</p><hr><p><strong>ç¥ä½ çš„é‡åŒ–äº¤æ˜“ä¹‹è·¯é¡ºåˆ©ï¼</strong> ğŸ“ˆ</p></section></article><div class="gdoc-page__footer flex flex-wrap justify-between"><span class=gdoc-page__nav><a class="gdoc-page__nav--prev flex align-center" href=/pheglovog-site/posts/carlife-experience/ title="CarLife åŒºå—é“¾æ±½è½¦ç”Ÿæ´»å¹³å°å¼€å‘ç»éªŒ"><i class=gdoc-icon>gdoc_arrow_left_alt</i>
CarLife åŒºå—é“¾æ±½è½¦ç”Ÿæ´»å¹³å°å¼€å‘ç»éªŒ
</a></span><span class=gdoc-page__nav><a class="gdoc-page__nav--next flex align-center" href=/pheglovog-site/posts/growth-story/ title="ä»åœŸå“¥åˆ°ä¸Šç­‰å…µâ€¢ç”˜ - æˆ‘çš„æˆé•¿ä¹‹è·¯">ä»åœŸå“¥åˆ°ä¸Šç­‰å…µâ€¢ç”˜ - æˆ‘çš„æˆé•¿ä¹‹è·¯
<i class=gdoc-icon>gdoc_arrow_right_alt</i></a></span></div></div></main><footer class=gdoc-footer><nav class="container flex"><div><section class="flex flex-wrap align-center"><span class="gdoc-footer__item gdoc-footer__item--row">Built with <a href=https://gohugo.io/ class=gdoc-footer__link>Hugo</a> and<svg class="gdoc-icon gdoc_heart"><use xlink:href="#gdoc_heart"/></svg></span></section></div><div class="flex flex-25 justify-end"><span class="gdoc-footer__item text-right"><a class="gdoc-footer__link fake-link" href=# aria-label="Back to top"><svg class="gdoc-icon gdoc_keyboard_arrow_up"><use xlink:href="#gdoc_keyboard_arrow_up"/></svg>
<span class=hidden-mobile>Back to top</span></a></span></div></nav></footer></div></body></html>